[1m[34m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        BILINGUAL MCP SERVER - COMPREHENSIVE UNIT TEST              â•‘
â•‘        Testing All i18n Functions with Thai & English              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[0m

[34m======================================================================[0m
[1m[34mTEST 1: Language Detection Function[0m
[34m======================================================================[0m

âœ… No question (undefined)
   Input: "(empty)"
   Detected: en (Expected: en)

âœ… Empty string
   Input: "(empty)"
   Detected: en (Expected: en)

âœ… English question
   Input: "What are the best funds?"
   Detected: en (Expected: en)

âœ… Thai question
   Input: "à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸µà¹ˆà¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”"
   Detected: th (Expected: th)

âœ… Mixed (contains Thai)
   Input: "Show me RMF funds à¸—à¸µà¹ˆà¸”à¸µ"
   Detected: th (Expected: th)


[34m======================================================================[0m
[1m[34mTEST 2: get_rmf_funds - List RMF Funds[0m
[34m======================================================================[0m

[33mğŸ“ get_rmf_funds[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Show me the first page of RMF funds"
[32m   English Response:[0m
   Found 442 RMF funds. Showing page 1 (20 funds).

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹à¸ªà¸”à¸‡à¸à¸­à¸‡à¸—à¸¸à¸™ RMF à¸«à¸™à¹‰à¸²à¹à¸£à¸"
[32m   Thai Response:[0m
   à¸à¸š à¸à¸­à¸‡à¸—à¸¸à¸™ RMF 442 à¸à¸­à¸‡à¸—à¸¸à¸™ à¹à¸ªà¸”à¸‡à¸«à¸™à¹‰à¸² 1 (20 à¸à¸­à¸‡à¸—à¸¸à¸™)

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 3: search_rmf_funds - Search with Filters[0m
[34m======================================================================[0m

[33mğŸ“ search_rmf_funds (low risk)[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Find low risk RMF funds"
[32m   English Response:[0m
   Found 52 RMF funds matching filters: max risk: 3

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸„à¹‰à¸™à¸«à¸²à¸à¸­à¸‡à¸—à¸¸à¸™ RMF à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸³"
[32m   Thai Response:[0m
   à¸à¸š à¸à¸­à¸‡à¸—à¸¸à¸™ RMF 52 à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸µà¹ˆà¸•à¸£à¸‡à¸à¸±à¸šà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚: à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸ªà¸¹à¸‡à¸ªà¸¸à¸”: 3

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ search_rmf_funds (multiple filters)[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Search for equity funds with good returns"
[32m   English Response:[0m
   Found 25 RMF funds matching filters: search: "TECH", category: Equity, min YTD: 10%

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸„à¹‰à¸™à¸«à¸²à¸à¸­à¸‡à¸—à¸¸à¸™à¸«à¸¸à¹‰à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸”à¸µ"
[32m   Thai Response:[0m
   à¸à¸š à¸à¸­à¸‡à¸—à¸¸à¸™ RMF 25 à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸µà¹ˆà¸•à¸£à¸‡à¸à¸±à¸šà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚: à¸„à¹‰à¸™à¸«à¸²: "TECH", à¸›à¸£à¸°à¹€à¸ à¸—: Equity, à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ YTD à¸•à¹ˆà¸³à¸ªà¸¸à¸”: 10%

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 4: get_rmf_fund_detail - Fund Details[0m
[34m======================================================================[0m

[33mğŸ“ get_rmf_fund_detail[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Tell me about DAOL-GOLDRMF"
[32m   English Response:[0m
   DAOL GOLD AND SILVER EQUITY RETIREMENT MUTUAL FUND (DAOL-GOLDRMF) managed by DAOL INVESTMENT MANAGEMENT COMPANY LIMITED. Current NAV: 14.8947 THB (+0.00%). Risk level: 7/8.

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸šà¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸­à¸‡à¸—à¸¸à¸™ DAOL-GOLDRMF"
[32m   Thai Response:[0m
   DAOL GOLD AND SILVER EQUITY RETIREMENT MUTUAL FUND (DAOL-GOLDRMF) à¸ˆà¸±à¸”à¸à¸²à¸£à¹‚à¸”à¸¢ DAOL INVESTMENT MANAGEMENT COMPANY LIMITED à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸«à¸™à¹ˆà¸§à¸¢à¸¥à¸‡à¸—à¸¸à¸™à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™: 14.8947 à¸šà¸²à¸— (+0.00%) à¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡: 7/8

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 5: get_rmf_fund_performance - Top Performers[0m
[34m======================================================================[0m

[33mğŸ“ get_rmf_fund_performance (1-year)[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Show me the best 1-year performers"
[32m   English Response:[0m
   Top 5 performing RMF funds for 1-Year

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹à¸ªà¸”à¸‡à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡ 1 à¸›à¸µ"
[32m   Thai Response:[0m
   à¸à¸­à¸‡à¸—à¸¸à¸™ RMF à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 5 à¸­à¸±à¸™à¸”à¸±à¸šà¹à¸£à¸ à¸ªà¸³à¸«à¸£à¸±à¸šà¸Šà¹ˆà¸§à¸‡1 à¸›à¸µ

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ get_rmf_fund_performance (YTD + risk)[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Top YTD performers with risk level 6"
[32m   English Response:[0m
   Top 10 performing RMF funds for YTD (Risk Level 6)

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸à¸­à¸‡à¸—à¸¸à¸™à¸—à¸µà¹ˆà¹ƒà¸«à¹‰à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸›à¸µ à¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡ 6"
[32m   Thai Response:[0m
   à¸à¸­à¸‡à¸—à¸¸à¸™ RMF à¸—à¸µà¹ˆà¸¡à¸µà¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸ªà¸¹à¸‡à¸ªà¸¸à¸” 10 à¸­à¸±à¸™à¸”à¸±à¸šà¹à¸£à¸ à¸ªà¸³à¸«à¸£à¸±à¸šà¸Šà¹ˆà¸§à¸‡à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸›à¸µ (à¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡ 6)

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 6: get_rmf_fund_nav_history - NAV History[0m
[34m======================================================================[0m

[33mğŸ“ get_rmf_fund_nav_history[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Show NAV history for ASP-DIGIBLOCRMF"
[32m   English Response:[0m
   Asset Plus Digital Blockchain RMF Fund (ASP-DIGIBLOCRMF) NAV history over 30 days. Period return: 14.83%. Volatility: 4.93%.

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹à¸ªà¸”à¸‡à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸£à¸²à¸„à¸² NAV à¸‚à¸­à¸‡ ASP-DIGIBLOCRMF"
[32m   Thai Response:[0m
   Asset Plus Digital Blockchain RMF Fund (ASP-DIGIBLOCRMF) à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸«à¸™à¹ˆà¸§à¸¢à¸¥à¸‡à¸—à¸¸à¸™à¸¢à¹‰à¸­à¸™à¸«à¸¥à¸±à¸‡ 30 à¸§à¸±à¸™ à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²: 14.83% à¸„à¸§à¸²à¸¡à¸œà¸±à¸™à¸œà¸§à¸™: 4.93%

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ get_rmf_fund_nav_history (no data)[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "NAV history for NEWFUND"
[32m   English Response:[0m
   No NAV history available for New RMF Fund (NEWFUND)

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸£à¸²à¸„à¸² NAV à¸‚à¸­à¸‡à¸à¸­à¸‡à¸—à¸¸à¸™ NEWFUND"
[32m   Thai Response:[0m
   à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸«à¸™à¹ˆà¸§à¸¢à¸¥à¸‡à¸—à¸¸à¸™à¸ªà¸³à¸«à¸£à¸±à¸š New RMF Fund (NEWFUND)

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 7: compare_rmf_funds - Fund Comparison[0m
[34m======================================================================[0m

[33mğŸ“ compare_rmf_funds[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Compare DAOL-GOLDRMF with ASP-DIGIBLOCRMF"
[32m   English Response:[0m
   Comparing 2 RMF funds: DAOL-GOLDRMF, ASP-DIGIBLOCRMF

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š DAOL-GOLDRMF à¸à¸±à¸š ASP-DIGIBLOCRMF"
[32m   Thai Response:[0m
   à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š à¸à¸­à¸‡à¸—à¸¸à¸™ RMF 2 à¸à¸­à¸‡à¸—à¸¸à¸™: DAOL-GOLDRMF, ASP-DIGIBLOCRMF

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 8: Error Messages - Bilingual Errors[0m
[34m======================================================================[0m

[33mğŸ“ Error: fundCodeRequired[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Missing fund code"
[32m   English Response:[0m
   fundCode parameter is required

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸«à¸±à¸ªà¸à¸­à¸‡à¸—à¸¸à¸™"
[32m   Thai Response:[0m
   à¸•à¹‰à¸­à¸‡à¸£à¸°à¸šà¸¸à¸£à¸«à¸±à¸ªà¸à¸­à¸‡à¸—à¸¸à¸™

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ Error: fundNotFound[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Fund XYZ not found"
[32m   English Response:[0m
   Fund not found

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¹„à¸¡à¹ˆà¸à¸šà¸à¸­à¸‡à¸—à¸¸à¸™ XYZ"
[32m   Thai Response:[0m
   à¹„à¸¡à¹ˆà¸à¸šà¸à¸­à¸‡à¸—à¸¸à¸™

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ Error: invalidPeriod[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Invalid period 99y"
[32m   English Response:[0m
   Invalid period

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡ 99y"
[32m   Thai Response:[0m
   à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m
[33mğŸ“ Error: atLeastTwoFundsRequired[0m

[36mğŸ‡¬ğŸ‡§ English Question:[0m "Need 2 funds to compare"
[32m   English Response:[0m
   At least 2 fund codes are required for comparison

[36mğŸ‡¹ğŸ‡­ Thai Question:[0m "à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ 2 à¸à¸­à¸‡à¸—à¸¸à¸™à¹€à¸à¸·à¹ˆà¸­à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š"
[32m   Thai Response:[0m
   à¸•à¹‰à¸­à¸‡à¸£à¸°à¸šà¸¸à¸£à¸«à¸±à¸ªà¸à¸­à¸‡à¸—à¸¸à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 2 à¸à¸­à¸‡à¸—à¸¸à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š

[32m   âœ… Language detection working correctly[0m
[34m----------------------------------------------------------------------[0m

[34m======================================================================[0m
[1m[34mTEST 9: Period Labels - All Periods[0m
[34m======================================================================[0m

[33mğŸ“Š Period Label Translations:[0m

[36mPeriod: ytd[0m
  ğŸ‡¬ğŸ‡§ English: YTD (Context: "YTD performance")
  ğŸ‡¹ğŸ‡­ Thai: à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸›à¸µ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸›à¸µ")

[36mPeriod: 3m[0m
  ğŸ‡¬ğŸ‡§ English: 3-Month (Context: "3-month performance")
  ğŸ‡¹ğŸ‡­ Thai: 3 à¹€à¸”à¸·à¸­à¸™ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 3 à¹€à¸”à¸·à¸­à¸™")

[36mPeriod: 6m[0m
  ğŸ‡¬ğŸ‡§ English: 6-Month (Context: "6-month performance")
  ğŸ‡¹ğŸ‡­ Thai: 6 à¹€à¸”à¸·à¸­à¸™ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 6 à¹€à¸”à¸·à¸­à¸™")

[36mPeriod: 1y[0m
  ğŸ‡¬ğŸ‡§ English: 1-Year (Context: "1-year performance")
  ğŸ‡¹ğŸ‡­ Thai: 1 à¸›à¸µ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 1 à¸›à¸µ")

[36mPeriod: 3y[0m
  ğŸ‡¬ğŸ‡§ English: 3-Year (Context: "3-year performance")
  ğŸ‡¹ğŸ‡­ Thai: 3 à¸›à¸µ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 3 à¸›à¸µ")

[36mPeriod: 5y[0m
  ğŸ‡¬ğŸ‡§ English: 5-Year (Context: "5-year performance")
  ğŸ‡¹ğŸ‡­ Thai: 5 à¸›à¸µ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 5 à¸›à¸µ")

[36mPeriod: 10y[0m
  ğŸ‡¬ğŸ‡§ English: 10-Year (Context: "10-year performance")
  ğŸ‡¹ğŸ‡­ Thai: 10 à¸›à¸µ (Context: "à¸œà¸¥à¸•à¸­à¸šà¹à¸—à¸™ 10 à¸›à¸µ")


[34m======================================================================[0m
[1m[34mTEST 10: Translation Dictionary Spot Check[0m
[34m======================================================================[0m

[33mğŸ“š Translation Dictionary:[0m

[36mfound               [0m EN: Found                     TH: à¸à¸š
[36mrmfFunds            [0m EN: RMF funds                 TH: à¸à¸­à¸‡à¸—à¸¸à¸™ RMF
[36mfund                [0m EN: fund                      TH: à¸à¸­à¸‡à¸—à¸¸à¸™
[36mfunds               [0m EN: funds                     TH: à¸à¸­à¸‡à¸—à¸¸à¸™
[36mshowingPage         [0m EN: Showing page              TH: à¹à¸ªà¸”à¸‡à¸«à¸™à¹‰à¸²
[36mmanagedBy           [0m EN: managed by                TH: à¸ˆà¸±à¸”à¸à¸²à¸£à¹‚à¸”à¸¢
[36mcurrentNav          [0m EN: Current NAV               TH: à¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¸«à¸™à¹ˆà¸§à¸¢à¸¥à¸‡à¸—à¸¸à¸™à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
[36mriskLevel           [0m EN: Risk level                TH: à¸£à¸°à¸”à¸±à¸šà¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡
[36mcomparing           [0m EN: Comparing                 TH: à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š
[36msearch              [0m EN: search                    TH: à¸„à¹‰à¸™à¸«à¸²
[36mamc                 [0m EN: AMC                       TH: à¸šà¸¥à¸ˆ.
[36mcategory            [0m EN: category                  TH: à¸›à¸£à¸°à¹€à¸ à¸—
[36mvolatility          [0m EN: Volatility                TH: à¸„à¸§à¸²à¸¡à¸œà¸±à¸™à¸œà¸§à¸™
[36mthb                 [0m EN: THB                       TH: à¸šà¸²à¸—
[36mbaht                [0m EN: THB                       TH: à¸šà¸²à¸—

[34m======================================================================[0m
[1m[34mTEST SUMMARY[0m
[34m======================================================================[0m

[32mâœ… All bilingual functions tested successfully![0m

ğŸ“Š Test Coverage:
   âœ… Language detection (5 test cases)
   âœ… All 6 MCP tool response formatters
   âœ… Error messages (4 types)
   âœ… Period labels (7 periods)
   âœ… Translation dictionary (16 keys)

ğŸ¯ Key Validations:
   âœ… Thai Unicode detection working (U+0E00-U+0E7F)
   âœ… English responses contain no Thai characters
   âœ… Thai responses contain Thai characters
   âœ… Natural Thai sentence structure (not word-by-word)
   âœ… Backward compatible (undefined defaults to English)

[1m[32mğŸš€ Bilingual implementation is working correctly![0m

